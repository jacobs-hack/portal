extends /templates/page_base

block main-headline
  h1 Reset Password

block main-content
  form.form(name='form', ng-submit='vm.changePassword(form)', novalidate='')
    .form-group.has-feedback(ng-class="{'has-error': (form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || vm.submitted)}")
      label New Password
      input.form-control(type='password', name='newPassword', ng-model='vm.newPassword', ng-minlength='3', required='')
      p.help-block(ng-show='(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)')
        | Password must be at least 3 characters.
    .form-group.has-feedback(ng-class="{'has-error': (vm.confirmPassword !== vm.newPassword)}")
      label Confirm Password
      input.form-control(type='password', name='password', ng-model='vm.confirmPassword', mongoose-error='')
      p.help-block(ng-show='(vm.confirmPassword !== vm.newPassword)')
        | New password and confirmation must match.

    p.help-block  {{ vm.message }}

    button.btn.btn-lg.btn-primary(type='submit') Save changes